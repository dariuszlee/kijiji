"function"!=typeof window.DIL&&(window.DIL=function(a,b){var c,d,e=[];a!==Object(a)&&(a={});var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;f=a.partner,g=a.containerNSID,h=!!a.disableDestinationPublishingIframe,i=a.iframeAkamaiHTTPS,j=a.mappings,k=a.uuidCookie,l=!0===a.enableErrorReporting,m=a.visitorService,n=a.declaredId,o=!0===a.removeFinishedScriptsAndCallbacks,p=!0===a.delayAllUntilWindowLoad,q=!0===a.disableIDSyncs,r=void 0===a.secureDataCollection||!0===a.secureDataCollection,s=!0===a.useCORSOnly,t="boolean"==typeof a.isCoopSafe?a.isCoopSafe:null;var u,v,w,x,y,z,A,B,C;u=!0===a.disableScriptAttachment,v=!0===a.disableDefaultRequest,w=a.afterResultForDefaultRequest,x=a.dpIframeSrc,y=!0===a.testCORS,z=!0===a.useJSONPOnly,A=a.visitorConstructor,B=!0===a.disableCORS,C=a.blacklistIELessThan9,l&&DIL.errorModule.activate();var D=!0===window._dil_unit_tests;if((c=b)&&e.push(c+""),!f||"string"!=typeof f)return c="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({"name":"error","message":c,"filename":"dil.js"}),Error(c);if(c="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",(g||"number"==typeof g)&&(g=parseInt(g,10),!isNaN(g)&&g>=0&&(c="")),c&&(g=0,e.push(c),c=""),(d=DIL.getDil(f,g))instanceof DIL&&d.api.getPartner()===f&&d.api.getContainerNSID()===g)return d;if(!(this instanceof DIL))return new DIL(a,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+f+" and containerNSID = "+g);DIL.registerDil(this,f,g);var E={"IS_HTTPS":r||"https:"===document.location.protocol,"POST_MESSAGE_ENABLED":!!window.postMessage,"MILLIS_PER_DAY":864e5,"DIL_COOKIE_NAME":"AAMC_"+encodeURIComponent(f)+"_"+g,"FIRST_PARTY_SYNCS":"AMSYNCS","FIRST_PARTY_SYNCS_ON_PAGE":"AMSYNCSOP","HAS_JSON_STRINGIFY":window.JSON===Object(window.JSON)&&"function"==typeof window.JSON.stringify,"REGION":"REGION","SIX_MONTHS_IN_MINUTES":259200,"IE_VERSION":function(){if(document.documentMode)return document.documentMode;for(var a=7;a>4;a--){var b=document.createElement("div");if(b.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e",b.getElementsByTagName("span").length)return a}return null}(),"IS_IE_LESS_THAN_9_NOT_SUPPORTED":!1};E.IS_IE_LESS_THAN_9="number"==typeof E.IE_VERSION&&9>E.IE_VERSION,E.BLACKLIST_IE_LESS_THAN_9=void 0!==C?C:E.IS_IE_LESS_THAN_9&&E.IS_IE_LESS_THAN_9_NOT_SUPPORTED;var F={"stuffed":{}},G={},H={"firingQueue":[],"fired":[],"firing":!1,"sent":[],"errored":[],"reservedKeys":{"sids":!0,"pdata":!0,"logdata":!0,"callback":!0,"postCallbackFn":!0,"useImageRequest":!0},"callbackPrefix":"demdexRequestCallback","firstRequestHasFired":!1,"useJSONP":!0,"abortRequests":!1,"num_of_jsonp_responses":0,"num_of_jsonp_errors":0,"num_of_cors_responses":0,"num_of_cors_errors":0,"corsErrorSources":[],"num_of_img_responses":0,"num_of_img_errors":0,"toRemove":[],"removed":[],"readyToRemove":!1,"platformParams":{"d_nsid":g+"","d_rtbd":"json","d_jsonv":DIL.jsonVersion+"","d_dst":"1"},"nonModStatsParams":{"d_rtbd":!0,"d_dst":!0,"d_cts":!0,"d_rs":!0},"modStatsParams":null,"adms":{"TIME_TO_CATCH_ALL_REQUESTS_RELEASE":2e3,"calledBack":!1,"mid":null,"noVisitorAPI":!1,"VisitorAPI":null,"instance":null,"releaseType":"no VisitorAPI","isOptedOut":!0,"isOptedOutCallbackCalled":!1,"admsProcessingStarted":!1,"process":function(a){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var b,c,d,e,f=this;if("function"==typeof a&&"function"==typeof a.getInstance){if(m!==Object(m)||!(b=m.namespace)||"string"!=typeof b)return this.releaseType="no namespace",void this.releaseRequests();if((c=a.getInstance(b,{"idSyncContainerID":g}))===Object(c)&&c instanceof a&&"function"==typeof c.isAllowed&&"function"==typeof c.getMarketingCloudVisitorID&&"function"==typeof c.getCustomerIDs&&"function"==typeof c.isOptedOut)return this.VisitorAPI=a,c.isAllowed()?(this.instance=c,d=function(a){"VisitorAPI"!==f.releaseType&&(f.mid=a,f.releaseType="VisitorAPI",f.releaseRequests())},e=c.getMarketingCloudVisitorID(d),"string"==typeof e&&e.length?void d(e):void setTimeout(function(){"VisitorAPI"!==f.releaseType&&(f.releaseType="timeout",f.releaseRequests())},this.getLoadTimeout())):(this.releaseType="VisitorAPI not allowed",void this.releaseRequests());this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(a){this.releaseRequests()}},"releaseRequests":function(){this.calledBack=!0,H.registerRequest()},"getMarketingCloudVisitorID":function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},"getMIDQueryString":function(){var a=L.isPopulatedString,b=this.getMarketingCloudVisitorID();return a(this.mid)&&this.mid===b||(this.mid=b),a(this.mid)?"d_mid="+this.mid+"&":""},"getCustomerIDs":function(){return this.instance?this.instance.getCustomerIDs():null},"getCustomerIDsQueryString":function(a){if(a===Object(a)){var b,c,d="",e=[],f=[];for(b in a)a.hasOwnProperty(b)&&(f[0]=b,(c=a[b])===Object(c)&&(f[1]=c.id||"",f[2]=c.authState||0,e.push(f),f=[]));if(f=e.length)for(a=0;f>a;a++)d+="&d_cid_ic="+M.encodeAndBuildRequest(e[a],"%01");return d}return""},"getIsOptedOut":function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},"isOptedOutCallback":function(a){this.isOptedOut=a,this.isOptedOutCallbackCalled=!0,H.registerRequest()},"getLoadTimeout":function(){var a=this.instance;if(a){if("function"==typeof a.getLoadTimeout)return a.getLoadTimeout();if(void 0!==a.loadTimeout)return a.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},"declaredId":{"declaredId":{"init":null,"request":null},"declaredIdCombos":{},"setDeclaredId":function(a,b){var c=L.isPopulatedString,d=encodeURIComponent;if(a===Object(a)&&c(b)){var e=a.dpid,f=a.dpuuid,g=null;if(c(e)&&c(f))return g=d(e)+"$"+d(f),!0===this.declaredIdCombos[g]?"setDeclaredId: combo exists for type '"+b+"'":(this.declaredIdCombos[g]=!0,this.declaredId[b]={"dpid":e,"dpuuid":f},"setDeclaredId: succeeded for type '"+b+"'")}return"setDeclaredId: failed for type '"+b+"'"},"getDeclaredIdQueryString":function(){var a=this.declaredId.request,b=this.declaredId.init,c=encodeURIComponent,d="";return null!==a?d="&d_dpid="+c(a.dpid)+"&d_dpuuid="+c(a.dpuuid):null!==b&&(d="&d_dpid="+c(b.dpid)+"&d_dpuuid="+c(b.dpuuid)),d}},"registerRequest":function(a){var b=this.firingQueue;a===Object(a)&&b.push(a),this.firing||!b.length||p&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(this.adms.isOptedOutCallbackCalled=!1,a=b.shift(),a.src=a.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid="),L.isPopulatedString(a.corsPostData)&&(a.corsPostData=a.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid=")),K.fireRequest(a),this.firstRequestHasFired||"script"!==a.tag&&"cors"!==a.tag||(this.firstRequestHasFired=!0)))},"processVisitorAPI":function(){this.adms.process(A||window.Visitor)},"requestRemoval":function(a){if(!o)return"removeFinishedScriptsAndCallbacks is not boolean true";var b,c,d=this.toRemove;if(a===Object(a)&&(b=a.script,c=a.callbackName,(b===Object(b)&&"SCRIPT"===b.nodeName||"no script created"===b)&&"string"==typeof c&&c.length&&d.push(a)),this.readyToRemove&&d.length){c=d.shift(),b=c.script,c=c.callbackName,"no script created"!==b?(a=b.src,b.parentNode.removeChild(b)):a=b,window[c]=null;try{delete window[c]}catch(a){}return this.removed.push({"scriptSrc":a,"callbackName":c}),DIL.variables.scriptsRemoved.push(a),DIL.variables.callbacksRemoved.push(c),this.requestRemoval()}return"requestRemoval() processed"},"getCoopQueryString":function(){var a="";return!0===t?a="&d_coop_safe=1":!1===t&&(a="&d_coop_unsafe=1"),a}};d=function(){var a="http://fast.",b="?d_nsid="+g+"#"+encodeURIComponent(document.location.href);return"string"==typeof x&&x.length?x+b:(E.IS_HTTPS&&(a=!0===i?"https://fast.":"https://"),a+f+".demdex.net/dest5.html"+b)};var I={"THROTTLE_START":3e4,"MAX_SYNCS_LENGTH":649,"throttleTimerSet":!1,"id":"destination_publishing_iframe_"+f+"_"+g,"url":d(),"onPagePixels":[],"iframeHost":null,"getIframeHost":function(a){if("string"==typeof a){var b=a.split("/");return 3<=b.length?b[0]+"//"+b[2]:(e.push("getIframeHost: url is malformed: "+a),a)}},"iframe":null,"iframeHasLoaded":!1,"sendingMessages":!1,"messages":[],"messagesPosted":[],"messagesReceived":[],"messageSendingInterval":E.POST_MESSAGE_ENABLED?null:100,"ibsDeleted":[],"jsonForComparison":[],"jsonDuplicates":[],"jsonWaiting":[],"jsonProcessed":[],"canSetThirdPartyCookies":!0,"receivedThirdPartyCookiesNotification":!1,"newIframeCreated":null,"iframeIdChanged":!1,"originalIframeHasLoadedAlready":null,"regionChanged":!1,"timesRegionChanged":0,"attachIframe":function(){function a(){d=document.createElement("iframe"),d.sandbox="allow-scripts allow-same-origin",d.title="Adobe ID Syncing iFrame",d.id=c.id,d.name=c.id+"_name",d.style.cssText="display: none; width: 0; height: 0;",d.src=c.url,c.newIframeCreated=!0,b(),document.body.appendChild(d)}function b(){M.addListener(d,"load",function(){d.className="aamIframeLoaded",c.iframeHasLoaded=!0,c.requestToProcess()})}if(!E.BLACKLIST_IE_LESS_THAN_9){var c=this,d=document.getElementById(this.id);d?"IFRAME"!==d.nodeName?(this.id+="_2",this.iframeIdChanged=!0,a()):(this.newIframeCreated=!1,"aamIframeLoaded"!==d.className?(this.originalIframeHasLoadedAlready=!1,b()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.iframe=d,this.requestToProcess())):a(),this.iframe=d}},"requestToProcess":function(a,b){function c(){f.jsonForComparison.push(a),f.jsonWaiting.push([a,b])}var d,e,f=this;if(d=H.adms.instance,a===Object(a)&&d===Object(d)&&d.idSyncContainerID===g&&(I.ibsDeleted.push(a.ibs),delete a.ibs),a&&!L.isEmptyObject(a))if(E.HAS_JSON_STRINGIFY)if(d=JSON.stringify(a.ibs||[]),e=JSON.stringify(a.dests||[]),this.jsonForComparison.length){var h,i,j,k=!1;for(h=0,i=this.jsonForComparison.length;i>h;h++)if(j=this.jsonForComparison[h],d===JSON.stringify(j.ibs||[])&&e===JSON.stringify(j.dests||[])){k=!0;break}k?this.jsonDuplicates.push(a):c()}else c();else c();(this.receivedThirdPartyCookiesNotification||!E.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length&&(d=this.jsonWaiting.shift(),!1===this.newIframeCreated&&delete d[0].ibs,this.process(d[0],d[1]),this.requestToProcess()),this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){f.messageSendingInterval=E.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},"checkIfRegionChanged":function(a){var b=M.getDilCookieField(E.REGION);null!==b&&void 0!==a.dcs_region&&parseInt(b,10)!==a.dcs_region&&(this.regionChanged=!0,this.timesRegionChanged++,M.setDilCookieField(E.FIRST_PARTY_SYNCS_ON_PAGE,""),M.setDilCookieField(E.FIRST_PARTY_SYNCS,"")),void 0!==a.dcs_region&&M.setDilCookieField(E.REGION,a.dcs_region)},"processSyncOnPage":function(a){var b,c,d;if((b=a.ibs)&&b instanceof Array&&(c=b.length))for(a=0;c>a;a++)d=b[a],d.syncOnPage&&this.checkFirstPartyCookie(d,"","syncOnPage")},"process":function(a,b){var c,d,e,f,g,h,i=encodeURIComponent;if(b===Object(b)&&(h=M.encodeAndBuildRequest(["",b.dpid||"",b.dpuuid||""],",")),(c=a.dests)&&c instanceof Array&&(d=c.length))for(e=0;d>e;e++)f=c[e],g=[i("dests"),i(f.id||""),i(f.y||""),i(f.c||"")],this.addMessage(g.join("|"));if((c=a.ibs)&&c instanceof Array&&(d=c.length))for(e=0;d>e;e++)f=c[e],g=[i("ibs"),i(f.id||""),i(f.tag||""),M.encodeAndBuildRequest(f.url||[],","),i(f.ttl||""),"",h,f.fireURLSync?"true":"false"],f.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(g.join("|")):f.fireURLSync&&this.checkFirstPartyCookie(f,g.join("|")));this.jsonProcessed.push(a)},"checkFirstPartyCookie":function(a,b,c){var d=(c="syncOnPage"===c)?E.FIRST_PARTY_SYNCS_ON_PAGE:E.FIRST_PARTY_SYNCS,e=this.getOnPageSyncData(d),f=!1,g=!1,h=Math.ceil((new Date).getTime()/E.MILLIS_PER_DAY);e?(e=e.split("*"),g=this.pruneSyncData(e,a.id,h),f=g.dataPresent,g=g.dataValid,f&&g||this.fireSync(c,a,b,e,d,h)):(e=[],this.fireSync(c,a,b,e,d,h))},"getOnPageSyncData":function(a){var b=H.adms.instance;return b&&"function"==typeof b.idSyncGetOnPageSyncInfo?b.idSyncGetOnPageSyncInfo():M.getDilCookieField(a)},"pruneSyncData":function(a,b,c){var d,e,f,g=!1,h=!1;if(a instanceof Array)for(e=0;e<a.length;e++)d=a[e],f=parseInt(d.split("-")[1],10),d.match("^"+b+"-")?(g=!0,f>c?h=!0:(a.splice(e,1),e--)):c>=f&&(a.splice(e,1),e--);return{"dataPresent":g,"dataValid":h}},"manageSyncsSize":function(a){if(a.join("*").length>this.MAX_SYNCS_LENGTH)for(a.sort(function(a,b){return parseInt(a.split("-")[1],10)-parseInt(b.split("-")[1],10)});a.join("*").length>this.MAX_SYNCS_LENGTH;)a.shift()},"fireSync":function(a,b,c,d,e,f){function g(a,b,c,d){return function(){h.onPagePixels[a]=null;var e=h.getOnPageSyncData(c),f=[];if(e){var g,i,j,e=e.split("*");for(g=0,i=e.length;i>g;g++)j=e[g],j.match("^"+b.id+"-")||f.push(j)}h.setSyncTrackingData(f,b,c,d)}}var h=this;if(a){if("img"===b.tag){a=b.url,c=E.IS_HTTPS?"https:":"http:";var i,j,k;for(d=0,i=a.length;i>d;d++){j=a[d],k=/^\/\//.test(j);var l=new Image;M.addListener(l,"load",g(this.onPagePixels.length,b,e,f)),l.src=(k?c:"")+j,this.onPagePixels.push(l)}}}else this.addMessage(c),this.setSyncTrackingData(d,b,e,f)},"addMessage":function(a){var b=encodeURIComponent,b=b(l?"---destpub-debug---":"---destpub---");this.messages.push((E.POST_MESSAGE_ENABLED?"":b)+a)},"setSyncTrackingData":function(a,b,c,d){a.push(b.id+"-"+(d+Math.ceil(b.ttl/60/24))),this.manageSyncsSize(a),M.setDilCookieField(c,a.join("*"))},"sendMessages":function(){var a=this,b="",c=encodeURIComponent;this.regionChanged&&(b=c("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?E.POST_MESSAGE_ENABLED?(b=b+c("---destpub-combined---")+this.messages.join("%01"),this.postMessage(b),this.messages=[],this.sendingMessages=!1):(b+=this.messages.shift(),this.postMessage(b),setTimeout(function(){a.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},"postMessage":function(a){DIL.xd.postMessage(a,this.url,this.iframe.contentWindow),this.messagesPosted.push(a)},"receiveMessage":function(a){var b=/^---destpub-to-parent---/;"string"==typeof a&&b.test(a)&&(b=a.replace(b,"").split("|"),"canSetThirdPartyCookies"===b[0]&&(this.canSetThirdPartyCookies="true"===b[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(a))}},J={"traits":function(a){return L.isValidPdata(a)&&(G.sids instanceof Array||(G.sids=[]),M.extendArray(G.sids,a)),this},"pixels":function(a){return L.isValidPdata(a)&&(G.pdata instanceof Array||(G.pdata=[]),M.extendArray(G.pdata,a)),this},"logs":function(a){return L.isValidLogdata(a)&&(G.logdata!==Object(G.logdata)&&(G.logdata={}),M.extendObject(G.logdata,a)),this},"customQueryParams":function(a){return L.isEmptyObject(a)||M.extendObject(G,a,H.reservedKeys),this},"signals":function(a,b){var c,d=a;if(!L.isEmptyObject(d)){if(b&&"string"==typeof b)for(c in d={},a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);M.extendObject(G,d,H.reservedKeys)}return this},"declaredId":function(a){return H.declaredId.setDeclaredId(a,"request"),this},"result":function(a){return"function"==typeof a&&(G.callback=a),this},"afterResult":function(a){return"function"==typeof a&&(G.postCallbackFn=a),this},"useImageRequest":function(){return G.useImageRequest=!0,this},"clearData":function(){return G={},this},"submit":function(){return K.submitRequest(G),G={},this},"getPartner":function(){return f},"getContainerNSID":function(){return g},"getEventLog":function(){return e},"getState":function(){var b={},c={};return M.extendObject(b,H,{"callbackPrefix":!0,"useJSONP":!0,"registerRequest":!0}),M.extendObject(c,I,{"attachIframe":!0,"requestToProcess":!0,"process":!0,"sendMessages":!0}),{"initConfig":a,"pendingRequest":G,"otherRequestInfo":b,"destinationPublishingInfo":c}},"idSync":function(a){if(q)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!=typeof a.dpid||!a.dpid.length)return"Error: config or config.dpid is empty";if("string"!=typeof a.url||!a.url.length)return"Error: config.url is empty";var b,c=a.url,d=a.minutesToLive,e=encodeURIComponent,f=I,c=c.replace(/^https:/,"").replace(/^http:/,"");if(void 0===d)d=20160;else if(d=parseInt(d,10),isNaN(d)||0>=d)return"Error: config.minutesToLive needs to be a positive number";return b=M.encodeAndBuildRequest(["",a.dpid,a.dpuuid||""],","),a=["ibs",e(a.dpid),"img",e(c),d,"",b],f.addMessage(a.join("|")),H.firstRequestHasFired&&f.requestToProcess(),"Successfully queued"},"aamIdSync":function(a){return q?"Error: id syncs have been disabled":a===Object(a)&&"string"==typeof a.dpuuid&&a.dpuuid.length?(a.url="//dpm.demdex.net/ibs:dpid="+a.dpid+"&dpuuid="+a.dpuuid,this.idSync(a)):"Error: config or config.dpuuid is empty"},"passData":function(a){return L.isEmptyObject(a)?"Error: json is empty or not an object":(I.ibsDeleted.push(a.ibs),delete a.ibs,K.defaultCallback(a),a)},"getPlatformParams":function(){return H.platformParams},"getEventCallConfigParams":function(){var a,b=H,c=b.modStatsParams,d=b.platformParams;if(!c){c={};for(a in d)d.hasOwnProperty(a)&&!b.nonModStatsParams[a]&&(c[a.replace(/^d_/,"")]=d[a]);!0===t?c.coop_safe=1:!1===t&&(c.coop_unsafe=1),b.modStatsParams=c}return c},"setAsCoopSafe":function(){return t=!0,this},"setAsCoopUnsafe":function(){return t=!1,this}},K={"corsMetadata":function(){var a="none",b=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a="XMLHttpRequest":new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()?a="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(b=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(b=!1)),{"corsType":a,"corsCookiesEnabled":b}}(),"getCORSInstance":function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},"submitRequest":function(a){return H.registerRequest(K.createQueuedRequest(a)),!0},"createQueuedRequest":function(a){var b,c,d=H,e=a.callback,f="img";if(!L.isEmptyObject(j)){var h,i,k;for(h in j)j.hasOwnProperty(h)&&null!=(i=j[h])&&""!==i&&h in a&&!(i in a||i in H.reservedKeys)&&null!=(k=a[h])&&""!==k&&(a[i]=k)}return L.isValidPdata(a.sids)||(a.sids=[]),L.isValidPdata(a.pdata)||(a.pdata=[]),L.isValidLogdata(a.logdata)||(a.logdata={}),a.logdataArray=M.convertObjectToKeyValuePairs(a.logdata,"=",!0),a.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof e&&(e=this.defaultCallback),d.useJSONP=!0!==a.useImageRequest,d.useJSONP&&(f="script",b=d.callbackPrefix+"_"+g+"_"+(new Date).getTime()),d=this.makeRequestSrcData(a,b),z&&!s||!(c=this.getCORSInstance())||(f="cors"),{"tag":f,"src":d.src,"corsSrc":d.corsSrc,"internalCallbackName":b,"callbackFn":e,"postCallbackFn":a.postCallbackFn,"useImageRequest":!!a.useImageRequest,"requestData":a,"corsInstance":c,"corsPostData":d.corsPostData}},"defaultCallback":function(a,b){I.checkIfRegionChanged(a),I.processSyncOnPage(a);var c,d,e,f,g,i,j,l,m;if((c=a.stuff)&&c instanceof Array&&(d=c.length))for(e=0;d>e;e++)(f=c[e])&&f===Object(f)&&(g=f.cn,i=f.cv,j=f.ttl,(void 0===j||""===j)&&(j=Math.floor(M.getMaxCookieExpiresInMinutes()/60/24)),l=f.dmn||"."+document.domain.replace(/^www\./,""),m=f.type,g&&(i||"number"==typeof i)&&("var"!==m&&(j=parseInt(j,10))&&!isNaN(j)&&M.setCookie(g,i,1440*j,"/",l,!1),F.stuffed[g]=i));c=a.uuid,L.isPopulatedString(c)&&!L.isEmptyObject(k)&&(d=k.path,"string"==typeof d&&d.length||(d="/"),e=parseInt(k.days,10),isNaN(e)&&(e=100),M.setCookie(k.name||"aam_did",c,1440*e,d,k.domain||"."+document.domain.replace(/^www\./,""),!0===k.secure)),h||H.abortRequests||I.requestToProcess(a,b)},"makeRequestSrcData":function(a,b){a.sids=L.removeEmptyArrayValues(a.sids||[]),a.pdata=L.removeEmptyArrayValues(a.pdata||[]);var c=H,d=c.platformParams,e=M.encodeAndBuildRequest(a.sids,","),h=M.encodeAndBuildRequest(a.pdata,","),i=(a.logdataArray||[]).join("&");delete a.logdataArray;var j,k=E.IS_HTTPS?"https://":"http://",l=c.declaredId.getDeclaredIdQueryString(),m=c.adms.instance?c.adms.getCustomerIDsQueryString(c.adms.getCustomerIDs()):"";j=[];var n,o,p,q;for(n in a)if(!(n in c.reservedKeys)&&a.hasOwnProperty(n))if(o=a[n],n=encodeURIComponent(n),o instanceof Array)for(p=0,q=o.length;q>p;p++)j.push(n+"="+encodeURIComponent(o[p]));else j.push(n+"="+encodeURIComponent(o));return j=j.length?"&"+j.join("&"):"",e="d_nsid="+d.d_nsid+c.getCoopQueryString()+l+m+(e.length?"&d_sid="+e:"")+(h.length?"&d_px="+h:"")+(i.length?"&d_ld="+encodeURIComponent(i):""),d="&d_rtbd="+d.d_rtbd+"&d_jsonv="+d.d_jsonv+"&d_dst="+d.d_dst,k=k+f+".demdex.net/event",h=c=k+"?"+e+(c.useJSONP?d+"&d_cb="+(b||""):"")+j,2048<c.length&&(c=c.substring(0,2048).substring(0,c.lastIndexOf("&"))),{"corsSrc":k+"?"+(y?"testcors=1&d_nsid="+g+"&":"")+"_ts="+(new Date).getTime(),"src":c,"originalSrc":h,"corsPostData":e+d+j,"isDeclaredIdCall":""!==l}},"fireRequest":function(a){if("img"===a.tag)this.fireImage(a);else{var b=H.declaredId,b=b.declaredId.request||b.declaredId.init||{},b={"dpid":b.dpid||"","dpuuid":b.dpuuid||""};"script"===a.tag?this.fireScript(a,b):"cors"===a.tag&&this.fireCORS(a,b)}},"fireImage":function(a){var b,d,f=H;f.abortRequests||(f.firing=!0,b=new Image(0,0),f.sent.push(a),b.onload=function(){f.firing=!1,f.fired.push(a),f.num_of_img_responses++,f.registerRequest()},d=function(b){c="imgAbortOrErrorHandler received the event of type "+b.type,e.push(c),f.abortRequests=!0,f.firing=!1,f.errored.push(a),f.num_of_img_errors++,f.registerRequest()},b.addEventListener?(b.addEventListener("error",d,!1),b.addEventListener("abort",d,!1)):b.attachEvent&&(b.attachEvent("onerror",d),b.attachEvent("onabort",d)),b.src=a.src)},"fireScript":function(a,b){var d,g,h=this,i=H,j=a.src,k=a.postCallbackFn,l="function"==typeof k,m=a.internalCallbackName;i.abortRequests||(i.firing=!0,window[m]=function(d){try{d!==Object(d)&&(d={}),q&&(I.ibsDeleted.push(d.ibs),delete d.ibs);var h=a.callbackFn;i.firing=!1,i.fired.push(a),i.num_of_jsonp_responses++,h(d,b),l&&k(d,b)}catch(a){a.message="DIL jsonp callback caught error with message "+a.message,c=a.message,e.push(c),a.filename=a.filename||"dil.js",a.partner=f,DIL.errorModule.handleError(a);try{h({"error":a.name+"|"+a.message},b),l&&k({"error":a.name+"|"+a.message},b)}catch(a){}}finally{i.requestRemoval({"script":g,"callbackName":m}),i.registerRequest()}},u||s?(i.firing=!1,i.requestRemoval({"script":"no script created","callbackName":m})):(g=document.createElement("script"),g.addEventListener&&g.addEventListener("error",function(b){i.requestRemoval({"script":g,"callbackName":m}),c="jsonp script tag error listener received the event of type "+b.type+" with src "+j,h.handleScriptError(c,a)},!1),g.type="text/javascript",g.src=j,d=DIL.variables.scriptNodeList[0],d.parentNode.insertBefore(g,d)),i.sent.push(a),i.declaredId.declaredId.request=null)},"fireCORS":function(a,b){var d=this,g=H,h=this.corsMetadata.corsType,i=a.corsSrc,j=a.corsInstance,k=a.corsPostData,l=a.postCallbackFn,m="function"==typeof l;if(!g.abortRequests&&!B){g.firing=!0;try{j.open("post",i,!0),"XMLHttpRequest"===h&&(j.withCredentials=!0,j.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),j.onreadystatechange=function(){if(4===this.readyState&&200===this.status)a:{var h;try{if((h=JSON.parse(this.responseText))!==Object(h)){d.handleCORSError(a,b,"Response is not JSON");break a}}catch(c){d.handleCORSError(a,b,"Error parsing response as JSON");break a}q&&(I.ibsDeleted.push(h.ibs),delete h.ibs);try{var i=a.callbackFn;g.firing=!1,g.fired.push(a),g.num_of_cors_responses++,i(h,b),m&&l(h,b)}catch(a){a.message="DIL handleCORSResponse caught error with message "+a.message,c=a.message,e.push(c),a.filename=a.filename||"dil.js",a.partner=f,DIL.errorModule.handleError(a);try{i({"error":a.name+"|"+a.message},b),m&&l({"error":a.name+"|"+a.message},b)}catch(a){}}finally{g.registerRequest()}}}),j.onerror=function(){d.handleCORSError(a,b,"onerror")},j.ontimeout=function(){d.handleCORSError(a,b,"ontimeout")},j.send(k)}catch(c){this.handleCORSError(a,b,"try-catch")}g.sent.push(a),g.declaredId.declaredId.request=null}},"handleCORSError":function(a,b,c){H.num_of_cors_errors++,H.corsErrorSources.push(c),"ontimeout"===c||s||(a.tag="script",this.fireScript(a,b))},"handleScriptError":function(a,b){H.num_of_jsonp_errors++,this.handleRequestError(a,b)},"handleRequestError":function(a,b){var c=H;e.push(a),c.abortRequests=!0,c.firing=!1,c.errored.push(b),c.registerRequest()}},L={"isValidPdata":function(a){return!!(a instanceof Array&&this.removeEmptyArrayValues(a).length)},"isValidLogdata":function(a){return!this.isEmptyObject(a)},"isEmptyObject":function(a){if(a!==Object(a))return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},"removeEmptyArrayValues":function(a){for(var b,c=0,d=a.length,e=[],c=0;d>c;c++)void 0!==(b=a[c])&&null!==b&&""!==b&&e.push(b);return e},"isPopulatedString":function(a){return"string"==typeof a&&a.length}},M={"addListener":function(){return document.addEventListener?function(a,b,c){a.addEventListener(b,function(a){"function"==typeof c&&c(a)},!1)}:document.attachEvent?function(a,b,c){a.attachEvent("on"+b,function(a){"function"==typeof c&&c(a)})}:void 0}(),"convertObjectToKeyValuePairs":function(a,b,c){var d,e,f=[];b||(b="=");for(d in a)a.hasOwnProperty(d)&&void 0!==(e=a[d])&&null!==e&&""!==e&&f.push(d+b+(c?encodeURIComponent(e):e));return f},"encodeAndBuildRequest":function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)},"map":function(a,b){if(Array.prototype.map)return a.map(b);if(void 0===a||null===a)throw new TypeError;var c=Object(a),d=c.length>>>0;if("function"!=typeof b)throw new TypeError;for(var e=Array(d),f=0;d>f;f++)f in c&&(e[f]=b.call(b,c[f],f,c));return e},"filter":function(a,b){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var c=Object(a),d=c.length>>>0;if("function"!=typeof b)throw new TypeError;for(var e=[],f=0;d>f;f++)if(f in c){var g=c[f];b.call(b,g,f,c)&&e.push(g)}return e}return a.filter(b)},"getCookie":function(a){a+="=";var b,c,d,e=document.cookie.split(";");for(b=0,c=e.length;c>b;b++){for(d=e[b];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return decodeURIComponent(d.substring(a.length,d.length))}return null},"setCookie":function(a,b,c,d,e,f){var g=new Date;c&&(c*=6e4),document.cookie=a+"="+encodeURIComponent(b)+(c?";expires="+new Date(g.getTime()+c).toUTCString():"")+(d?";path="+d:"")+(e?";domain="+e:"")+(f?";secure":"")},"extendArray":function(a,b){return a instanceof Array&&b instanceof Array&&(Array.prototype.push.apply(a,b),!0)},"extendObject":function(a,b,c){var d;if(a===Object(a)&&b===Object(b)){for(d in b)!b.hasOwnProperty(d)||!L.isEmptyObject(c)&&d in c||(a[d]=b[d]);return!0}return!1},"getMaxCookieExpiresInMinutes":function(){return E.SIX_MONTHS_IN_MINUTES},"getCookieField":function(a,b){var c=this.getCookie(a),d=decodeURIComponent;if("string"==typeof c){var e,f,c=c.split("|");for(e=0,f=c.length-1;f>e;e++)if(d(c[e])===b)return d(c[e+1])}return null},"getDilCookieField":function(a){return this.getCookieField(E.DIL_COOKIE_NAME,a)},"setCookieField":function(a,b,c){var d=this.getCookie(a),e=!1,f=encodeURIComponent;if(b=f(b),c=f(c),"string"==typeof d){var g,d=d.split("|"),f=0;for(g=d.length-1;g>f;f++)if(d[f]===b){d[f+1]=c,e=!0;break}e||(f=d.length,d[f]=b,d[f+1]=c)}else d=[b,c];this.setCookie(a,d.join("|"),this.getMaxCookieExpiresInMinutes(),"/",this.getDomain(),!1)},"setDilCookieField":function(a,b){return this.setCookieField(E.DIL_COOKIE_NAME,a,b)},"getDomain":function(a){if(!a&&window.location&&(a=window.location.hostname),a)if(/^[0-9.]+$/.test(a))a="";else{var b=a.split("."),c=b.length-1,d=c-1;if(c>1&&2>=b[c].length&&(2===b[c-1].length||0>",DOMAIN_2_CHAR_EXCEPTIONS,".indexOf(","+b[c]+","))&&d--,d>0)for(a="";c>=d;)a=b[c]+(a?".":"")+a,c--}return a},"replaceMethodsWithFunction":function(a,b){var c;if(a===Object(a)&&"function"==typeof b)for(c in a)a.hasOwnProperty(c)&&"function"==typeof a[c]&&(a[c]=b)}};"error"===f&&0===g&&M.addListener(window,"load",function(){DIL.windowLoaded=!0});var N=!1,O=function(){N||(N=!0,H.registerRequest(),P(),h||H.abortRequests||I.attachIframe(),H.readyToRemove=!0,H.requestRemoval())},P=function(){h||setTimeout(function(){v||H.firstRequestHasFired||("function"==typeof w?J.afterResult(w).submit():J.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)};if(r=document,"error"!==f&&(DIL.windowLoaded?O():"complete"!==r.readyState&&"loaded"!==r.readyState?M.addListener(window,"load",function(){DIL.windowLoaded=!0,O()}):(DIL.windowLoaded=!0,O())),"error"!==f)try{DIL.xd.receiveMessage(function(a){I.receiveMessage(a.data)},I.getIframeHost(I.url))}catch(a){}H.declaredId.setDeclaredId(n,"init"),H.processVisitorAPI(),E.BLACKLIST_IE_LESS_THAN_9&&M.replaceMethodsWithFunction(J,function(){return this}),this.api=J,this.getStuffedVariable=function(a){var b=F.stuffed[a];return b||"number"==typeof b||(b=M.getCookie(a))||"number"==typeof b||(b=""),b},this.validators=L,this.helpers=M,this.constants=E,this.log=e,D&&(this.pendingRequest=G,this.requestController=H,this.setDestinationPublishingUrl=d,this.destinationPublishing=I,this.requestProcs=K,this.variables=F,this.callWindowLoadFunctions=O)},function(){var a,b=document;null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",a=function(){b.removeEventListener("DOMContentLoaded",a,!1),b.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(a){var b;if(a===Object(a))for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},DIL.extendStaticPropertiesAndMethods({"version":"6.12","jsonVersion":1,"constants":{"TIME_TO_DEFAULT_REQUEST":50},"variables":{"scriptNodeList":document.getElementsByTagName("script"),"scriptsRemoved":[],"callbacksRemoved":[]},"windowLoaded":!1,"dils":{},"isAddedPostWindowLoad":function(a){this.windowLoaded="function"==typeof a?!!a():"boolean"!=typeof a||a},"create":function(a){try{return new DIL(a)}catch(a){throw Error("Error in attempt to create DIL instance with DIL.create(): "+a.message)}},"registerDil":function(a,b,c){(b=b+"$"+c)in this.dils||(this.dils[b]=a)},"getDil":function(a,b){var c;return"string"!=typeof a&&(a=""),b||(b=0),c=a+"$"+b,c in this.dils?this.dils[c]:Error("The DIL instance with partner = "+a+" and containerNSID = "+b+" was not found")},"dexGetQSVars":function(a,b,c){return b=this.getDil(b,c),b instanceof this?b.getStuffedVariable(a):""},"xd":{"postMessage":function(a,b,c){var d=1;b&&(window.postMessage?c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +new Date+d+++"&"+a))},"receiveMessage":function(a,b){var c;try{window.postMessage&&(a&&(c=function(c){return!("string"==typeof b&&c.origin!==b||"[object Function]"===Object.prototype.toString.call(b)&&!1===b(c.origin))&&void a(c)}),window.addEventListener?window[a?"addEventListener":"removeEventListener"]("message",c,!1):window[a?"attachEvent":"detachEvent"]("onmessage",c))}catch(a){}}}}),DIL.errorModule=function(){var a=DIL.create({"partner":"error","containerNSID":0,"disableDestinationPublishingIframe":!0}),b={"harvestererror":14138,"destpuberror":14139,"dpmerror":14140,"generalerror":14137,"error":14137,"noerrortypedefined":15021,"evalerror":15016,"rangeerror":15017,"referenceerror":15018,"typeerror":15019,"urierror":15020},c=!1;return{"activate":function(){c=!0},"handleError":function(d){if(!c)return"DIL error module has not been activated";d!==Object(d)&&(d={});var e=d.name?(d.name+"").toLowerCase():"",f=[];return d={"name":e,"filename":d.filename?d.filename+"":"","partner":d.partner?d.partner+"":"no_partner","site":d.site?d.site+"":document.location.href,"message":d.message?d.message+"":""},
f.push(e in b?b[e]:b.noerrortypedefined),a.api.pixels(f).logs(d).useImageRequest().submit(),"DIL error report sent"},"pixelMap":b}}(),DIL.tools={},DIL.modules={"helpers":{"handleModuleError":function(a,b,c){var d="";return b=b||"Error caught in DIL module/submodule: ",a===Object(a)?d=b+(a.message||"err has no message"):(d=b+"err is not a valid object",a={}),a.message=d,c instanceof DIL&&(a.partner=c.api.getPartner()),DIL.errorModule.handleError(a),this.errorMessage=d}}}),DIL.tools.getSearchReferrer=function(a,b){var c=DIL.getDil("error"),d=DIL.tools.decomposeURI(a||document.referrer),e="",f="",g={"queryParam":"q"};return(e=c.helpers.filter([b===Object(b)?b:{},{"hostPattern":/aol\./},{"hostPattern":/ask\./},{"hostPattern":/bing\./},{"hostPattern":/google\./},{"hostPattern":/yahoo\./,"queryParam":"p"}],function(a){return!(!a.hasOwnProperty("hostPattern")||!d.hostname.match(a.hostPattern))}).shift())?{"valid":!0,"name":d.hostname,"keywords":(c.helpers.extendObject(g,e),f=g.queryPattern?(e=(""+d.search).match(g.queryPattern))?e[1]:"":d.uriParams[g.queryParam],decodeURIComponent(f||"").replace(/\+|%20/g," "))}:{"valid":!1,"name":"","keywords":""}},DIL.tools.decomposeURI=function(a){var b=DIL.getDil("error"),c=document.createElement("a");return c.href=a||document.referrer,{"hash":c.hash,"host":c.host.split(":").shift(),"hostname":c.hostname,"href":c.href,"pathname":c.pathname.replace(/^\//,""),"protocol":c.protocol,"search":c.search,"uriParams":function(a,c){return b.helpers.map(c.split("&"),function(b){b=b.split("="),a[b.shift()]=b.shift()}),a}({},c.search.replace(/^(\/|\?)?|\/$/g,""))}},DIL.tools.getMetaTags=function(){var a,b,c,d,e,f={},g=document.getElementsByTagName("meta");for(a=0,c=arguments.length;c>a;a++)if(null!==(d=arguments[a]))for(b=0;b<g.length;b++)if(e=g[b],e.name===d){f[d]=e.content;break}return f},DIL.modules.siteCatalyst={"dil":null,"handle":DIL.modules.helpers.handleModuleError,"init":function(a,b,c,d){try{var e=this,f={"name":"DIL Site Catalyst Module Error"},g=function(a){return f.message=a,DIL.errorModule.handleError(f),a};return this.options=d===Object(d)?d:{},this.dil=null,b instanceof DIL?(this.dil=b,f.partner=b.api.getPartner(),a!==Object(a)?g("siteCatalystReportingSuite is not an object"):(window.AppMeasurement_Module_DIL=a.m_DIL=function(a){var b="function"==typeof a.m_i?a.m_i("DIL"):this;return b!==Object(b)?g("m is not an object"):(b.trackVars=e.constructTrackVars(c),b.d=0,b.s=a,void(b._t=function(){var a,b,c,d=","+this.trackVars+",",f=this.s,h=[];c=[];var i={},j=!1;if(f!==Object(f))return g("Error in m._t function: s is not an object");if(this.d){if("function"==typeof f.foreachVar)f.foreachVar(function(a,b){void 0!==b&&(i[a]=b,j=!0)},this.trackVars);else{if(!(f.va_t instanceof Array))return g("Error in m._t function: s.va_t is not an array");if(f.lightProfileID?(a=f.lightTrackVars)&&(a=","+a+","+f.vl_mr+","):(f.pe||f.linkType)&&(a=f.linkTrackVars,f.pe&&(b=f.pe.substring(0,1).toUpperCase()+f.pe.substring(1),f[b]&&(a=f[b].trackVars)),a&&(a=","+a+","+f.vl_l+","+f.vl_l2+",")),a){for(b=0,h=a.split(",");b<h.length;b++)0<=d.indexOf(","+h[b]+",")&&c.push(h[b]);c.length&&(d=","+c.join(",")+",")}for(c=0,b=f.va_t.length;b>c;c++)a=f.va_t[c],0<=d.indexOf(","+a+",")&&void 0!==f[a]&&null!==f[a]&&""!==f[a]&&(i[a]=f[a],j=!0)}e.includeContextData(f,i).store_populated&&(j=!0),j&&this.d.api.signals(i,"c_").submit()}}))},a.loadModule("DIL"),a.DIL.d=b,f.message?f.message:"DIL.modules.siteCatalyst.init() completed with no errors")):g("dilInstance is not a valid instance of DIL")}catch(a){return this.handle(a,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},"constructTrackVars":function(a){var b,c,d,e,f,g=[];if(a===Object(a)){if((b=a.names)instanceof Array&&(d=b.length))for(c=0;d>c;c++)"string"==typeof(e=b[c])&&e.length&&g.push(e);if((a=a.iteratedNames)instanceof Array&&(d=a.length))for(c=0;d>c;c++)if((b=a[c])===Object(b)&&(e=b.name,f=parseInt(b.maxIndex,10),"string"==typeof e&&e.length&&!isNaN(f)&&f>=0))for(b=0;f>=b;b++)g.push(e+b);if(g.length)return g.join(",")}return this.constructTrackVars({"names":"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),"iteratedNames":[{"name":"prop","maxIndex":75},{"name":"eVar","maxIndex":250}]})},"includeContextData":function(a,b){var c={},d=!1;if(a.contextData===Object(a.contextData)){var e,f,g,h,i=a.contextData,j=this.options.replaceContextDataPeriodsWith,k=this.options.filterFromContextVariables,l={};if("string"==typeof j&&j.length||(j="_"),k instanceof Array)for(e=0,f=k.length;f>e;e++)g=k[e],this.dil.validators.isPopulatedString(g)&&(l[g]=!0);for(h in i)!i.hasOwnProperty(h)||l[h]||!(k=i[h])&&"number"!=typeof k||(h=("contextData."+h).replace(/\./g,j),b[h]=k,d=!0)}return c.store_populated=d,c}},DIL.modules.GA={"submitUniversalAnalytics":function(a,b,c){try{var d=a.getAll()[0],e=d[c||"b"].data.keys;a={};var f,g,h,i;for(f=0,g=e.length;g>f;f++)h=e[f],void 0===(i=d.get(h))||"function"==typeof i||i===Object(i)||/^_/.test(h)||/^&/.test(h)||(a[h]=i);return b.api.signals(a,"c_").submit(),a}catch(a){return"Caught error with message: "+a.message}},"dil":null,"arr":null,"tv":null,"errorMessage":"","defaultTrackVars":["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],"defaultTrackVarsObj":null,"signals":{},"hasSignals":!1,"handle":DIL.modules.helpers.handleModuleError,"init":function(a,b,c){try{this.tv=this.arr=this.dil=null,this.errorMessage="",this.signals={},this.hasSignals=!1;var d={"name":"DIL GA Module Error"},e="";b instanceof DIL?(this.dil=b,d.partner=this.dil.api.getPartner()):(e="dilInstance is not a valid instance of DIL",d.message=e,DIL.errorModule.handleError(d)),a instanceof Array&&a.length?this.arr=a:(e="gaArray is not an array or is empty",d.message=e,DIL.errorModule.handleError(d)),this.tv=this.constructTrackVars(c),this.errorMessage=e}catch(a){this.handle(a,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},"constructTrackVars":function(a){var b,c,d,e,f=[];if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){for(d=this.defaultTrackVars,e={},b=0,c=d.length;c>b;b++)e[d[b]]=!0;this.defaultTrackVarsObj=e}else e=this.defaultTrackVarsObj;if(a===Object(a)){if((a=a.names)instanceof Array&&(c=a.length))for(b=0;c>b;b++)"string"==typeof(d=a[b])&&d.length&&d in e&&f.push(d);if(f.length)return f}return this.defaultTrackVars},"constructGAObj":function(a){var b={};a=a instanceof Array?a:this.arr;var c,d,e,f;for(c=0,d=a.length;d>c;c++)(e=a[c])instanceof Array&&e.length&&(e=[],f=a[c],e instanceof Array&&f instanceof Array&&Array.prototype.push.apply(e,f),"string"==typeof(f=e.shift())&&f.length&&(b[f]instanceof Array||(b[f]=[]),b[f].push(e)));return b},"addToSignals":function(a,b){return"string"==typeof a&&""!==a&&null!=b&&""!==b&&(this.signals[a]instanceof Array||(this.signals[a]=[]),this.signals[a].push(b),this.hasSignals=!0)},"constructSignals":function(){var a,b,c,d,e,f,g=this.constructGAObj(),h={"_setAccount":function(a){this.addToSignals("c_accountId",a)},"_setCustomVar":function(a,b,c){"string"==typeof b&&b.length&&this.addToSignals("c_"+b,c)},"_addItem":function(a,b,c,d,e,f){this.addToSignals("c_itemOrderId",a),this.addToSignals("c_itemSku",b),this.addToSignals("c_itemName",c),this.addToSignals("c_itemCategory",d),this.addToSignals("c_itemPrice",e),this.addToSignals("c_itemQuantity",f)},"_addTrans":function(a,b,c,d,e,f,g,h){this.addToSignals("c_transOrderId",a),this.addToSignals("c_transAffiliation",b),this.addToSignals("c_transTotal",c),this.addToSignals("c_transTax",d),this.addToSignals("c_transShipping",e),this.addToSignals("c_transCity",f),this.addToSignals("c_transState",g),this.addToSignals("c_transCountry",h)},"_trackSocial":function(a,b,c,d){this.addToSignals("c_socialNetwork",a),this.addToSignals("c_socialAction",b),this.addToSignals("c_socialTarget",c),this.addToSignals("c_socialPagePath",d)}},i=this.tv;for(a=0,b=i.length;b>a;a++)if(c=i[a],g.hasOwnProperty(c)&&h.hasOwnProperty(c)&&(f=g[c])instanceof Array)for(d=0,e=f.length;e>d;d++)h[c].apply(this,f[d])},"submit":function(){try{return""!==this.errorMessage?this.errorMessage:(this.constructSignals(),this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)+this.dil.log):"No signals present")}catch(a){return this.handle(a,"DIL.modules.GA.submit() caught error with message ",this.dil)}},"Stuffer":{"LIMIT":5,"dil":null,"cookieName":null,"delimiter":null,"errorMessage":"","handle":DIL.modules.helpers.handleModuleError,"callback":null,"v":function(){return!1},"init":function(a,b,c){try{this.callback=this.dil=null,this.errorMessage="",a instanceof DIL?(this.dil=a,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(b)?b:"aam_ga",this.delimiter=this.v(c)?c:"|"):this.handle({"message":"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(a){this.handle(a,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},"process":function(a){var b,c,d,e,f,g;g=!1;var h=1;if(a===Object(a)&&(b=a.stuff)&&b instanceof Array&&(c=b.length))for(a=0;c>a;a++)if((d=b[a])&&d===Object(d)&&(e=d.cn,f=d.cv,e===this.cookieName&&this.v(f))){g=!0;break}if(g){for(b=f.split(this.delimiter),void 0===window._gaq&&(window._gaq=[]),d=window._gaq,a=0,c=b.length;c>a&&(g=b[a].split("="),f=g[0],g=g[1],this.v(f)&&this.v(g)&&d.push(["_setCustomVar",h++,f,g,1]),!(h>this.LIMIT));a++);this.errorMessage=h>1?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";return"function"==typeof this.callback?this.callback():void 0},"submit":function(){try{var a=this;return""!==this.errorMessage?this.errorMessage:(this.dil.api.afterResult(function(b){a.process(b)}).submit(),"DIL.modules.GA.Stuffer.submit() successful")}catch(a){return this.handle(a,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}};